import{_ as b,C as p,o as f,c as h,H as l,w as i,m as t,a as s,h as x,F as S,D as w,t as v,n as C,e as P,d as z,S as F,aC as q}from"./chunks/framework.Nq6kOwAg.js";const T={class:"upload-demo"},L={__name:"basic",setup(g){const n=(e,a)=>{console.log("Upload successful",e,a)};return(e,a)=>{const d=p("t-button"),o=p("t-upload");return f(),h("div",T,[l(o,{action:"http://rap2api.taobao.org/app/mock/322878/upload","on-success":n},{tip:i(()=>a[1]||(a[1]=[t("div",{class:"upload-tip"},"Support jpg, png, gif format files, single file not exceeding 5MB",-1)])),default:i(()=>[l(d,{type:"primary"},{default:i(()=>a[0]||(a[0]=[s("Click to Upload")])),_:1,__:[0]})]),_:1})])}}},D=b(L,[["__scopeId","data-v-0765b747"]]),E={class:"upload-demo"},I={__name:"list-type",setup(g){const n=x([{uid:"1",name:"document1.docx",status:"success",size:1024},{uid:"2",name:"document2.xlsx",status:"success",size:2048}]),e=x([{uid:"1",name:"image1.jpg",status:"success",url:"https://i.postimg.cc/C5k7W9GK/1.webp"},{uid:"2",name:"image2.png",status:"success",url:"https://i.postimg.cc/43y5JY6q/8.webp"}]);return(a,d)=>{const o=p("t-button"),c=p("t-upload");return f(),h("div",E,[d[2]||(d[2]=t("h4",null,'Text List (list-type="text")',-1)),l(c,{action:"http://rap2api.taobao.org/app/mock/322878/upload","list-type":"text","file-list":n.value},{default:i(()=>[l(o,{type:"primary"},{default:i(()=>d[0]||(d[0]=[s("Upload File")])),_:1,__:[0]})]),_:1},8,["file-list"]),d[3]||(d[3]=t("h4",null,'Picture List (list-type="picture")',-1)),l(c,{action:"http://rap2api.taobao.org/app/mock/322878/upload","list-type":"picture","file-list":e.value},{default:i(()=>[l(o,{type:"primary"},{default:i(()=>d[1]||(d[1]=[s("Upload Image")])),_:1,__:[1]})]),_:1},8,["file-list"])])}}},M=b(I,[["__scopeId","data-v-22cb7874"]]),R={},W={class:"upload-demo"},A={class:"upload-dragger-content"};function B(g,n){const e=p("t-icon"),a=p("t-upload");return f(),h("div",W,[l(a,{action:"http://rap2api.taobao.org/app/mock/322878/upload",drag:""},{default:i(()=>[t("div",A,[l(e,{icon:"upload",size:"28"}),n[0]||(n[0]=t("div",{class:"upload-text"},[s("Drag files here, or "),t("em",null,"click to upload")],-1)),n[1]||(n[1]=t("div",{class:"upload-hint"},"Support single or multiple file upload",-1))])]),_:1})])}const N=b(R,[["render",B],["__scopeId","data-v-32065c88"]]),V={class:"upload-demo"},j={class:"upload-actions"},O={__name:"manual",setup(g){const n=x(),e=()=>{var d;(d=n.value)==null||d.submit()},a=()=>{var d;(d=n.value)==null||d.clearFiles()};return(d,o)=>{const c=p("t-button"),m=p("t-upload");return f(),h("div",V,[l(m,{ref_key:"uploadRef",ref:n,action:"http://rap2api.taobao.org/app/mock/322878/upload","auto-upload":!1},{tip:i(()=>o[1]||(o[1]=[t("div",{class:"upload-tip"},"Please select files first, then click the button below to start uploading",-1)])),default:i(()=>[l(c,{type:"primary"},{default:i(()=>o[0]||(o[0]=[s("Select Files")])),_:1,__:[0]})]),_:1},512),t("div",j,[l(c,{type:"success",onClick:e},{default:i(()=>o[2]||(o[2]=[s("Start Upload")])),_:1,__:[2]}),l(c,{onClick:a},{default:i(()=>o[3]||(o[3]=[s("Clear Files")])),_:1,__:[3]})])])}}},H=b(O,[["__scopeId","data-v-17f0ea92"]]),J={class:"upload-demo"},Y={class:"limit-item"},G={class:"limit-item"},K={class:"limit-item"},Q={__name:"limit",setup(g){const n=a=>{alert(`File ${a.name} exceeds 2MB limit`)},e=a=>{alert(`Maximum 3 files allowed, ${a.length} files selected`)};return(a,d)=>{const o=p("t-button"),c=p("t-upload");return f(),h("div",J,[t("div",Y,[d[2]||(d[2]=t("h4",null,"File Type Restriction (accept)",-1)),l(c,{action:"http://rap2api.taobao.org/app/mock/322878/upload",accept:"image/*"},{tip:i(()=>d[1]||(d[1]=[t("div",{class:"upload-tip"},"Only jpg, png, gif and other image formats are allowed",-1)])),default:i(()=>[l(o,{type:"primary"},{default:i(()=>d[0]||(d[0]=[s("Images Only")])),_:1,__:[0]})]),_:1})]),t("div",G,[d[5]||(d[5]=t("h4",null,"File Size Restriction (max-size)",-1)),l(c,{action:"http://rap2api.taobao.org/app/mock/322878/upload","max-size":2,onExceedSize:n},{tip:i(()=>d[4]||(d[4]=[t("div",{class:"upload-tip"},"Single file size cannot exceed 2MB",-1)])),default:i(()=>[l(o,{type:"primary"},{default:i(()=>d[3]||(d[3]=[s("2MB Limit")])),_:1,__:[3]})]),_:1})]),t("div",K,[d[8]||(d[8]=t("h4",null,"Quantity Restriction (limit)",-1)),l(c,{action:"http://rap2api.taobao.org/app/mock/322878/upload",limit:3,multiple:"",onExceed:e},{tip:i(()=>d[7]||(d[7]=[t("div",{class:"upload-tip"},"Maximum 3 files can be uploaded",-1)])),default:i(()=>[l(o,{type:"primary"},{default:i(()=>d[6]||(d[6]=[s("Max 3 Files")])),_:1,__:[6]})]),_:1})])])}}},X=b(Q,[["__scopeId","data-v-4bc185a5"]]),Z={class:"upload-demo"},tt={__name:"custom",setup(g){const n=async e=>{const{file:a,onProgress:d,onSuccess:o,onError:c}=e;try{for(let m=0;m<=100;m+=10)await new Promise(y=>setTimeout(y,200)),d(m);setTimeout(()=>{o({url:URL.createObjectURL(a),name:a.name,status:"success"})},500)}catch(m){c(m)}};return(e,a)=>{const d=p("t-button"),o=p("t-upload");return f(),h("div",Z,[a[4]||(a[4]=t("h4",null,"Custom Upload Implementation (http-request)",-1)),l(o,{action:"http://rap2api.taobao.org/app/mock/322878/upload","http-request":n},{tip:i(()=>a[1]||(a[1]=[t("div",{class:"upload-tip"},"Implement upload logic through custom uploadRequest method",-1)])),default:i(()=>[l(d,{type:"primary"},{default:i(()=>a[0]||(a[0]=[s("Custom Upload")])),_:1,__:[0]})]),_:1}),a[5]||(a[5]=t("h4",null,"Custom Additional Data (data)",-1)),l(o,{action:"http://rap2api.taobao.org/app/mock/322878/upload",data:{type:"custom",userId:123}},{tip:i(()=>a[3]||(a[3]=[t("div",{class:"upload-tip"},"Additional parameters will be attached during upload",-1)])),default:i(()=>[l(d,{type:"primary"},{default:i(()=>a[2]||(a[2]=[s("Additional Data")])),_:1,__:[2]})]),_:1})])}}},et=b(tt,[["__scopeId","data-v-7ed76c13"]]),dt={class:"upload-demo"},ot={class:"event-log"},at={class:"log-container"},lt={class:"log-time"},st={class:"log-message"},it={key:0,class:"no-logs"},nt={class:"log-actions"},rt={__name:"events",setup(g){const n=x([]),e=(u,r)=>{const _=new Date,k=`${_.getHours()}:${_.getMinutes()}:${_.getSeconds()}`;n.value.unshift({type:u,message:r,time:k}),n.value.length>10&&n.value.pop()},a=()=>{n.value=[]},d=(u,r)=>{e("success",`File ${u.name} uploaded successfully`)},o=(u,r)=>{e("error",`File ${u.name} upload failed: ${r.message}`)},c=(u,r)=>{e("progress",`File ${u.name} upload progress: ${r}%`)},m=(u,r)=>{u&&e("change",`File status changed: ${u.name} (${u.status})`)},y=u=>{e("remove",`File ${u.name} removed`)};return(u,r)=>{const _=p("t-button"),k=p("t-upload");return f(),h("div",dt,[l(k,{action:"http://rap2api.taobao.org/app/mock/322878/upload",onSuccess:d,onError:o,onProgress:c,onChange:m,onRemove:y},{default:i(()=>[l(_,{type:"primary"},{default:i(()=>r[0]||(r[0]=[s("Upload File")])),_:1,__:[0]})]),_:1}),t("div",ot,[r[2]||(r[2]=t("h4",null,"Event Log",-1)),t("div",at,[(f(!0),h(S,null,w(n.value,(U,$)=>(f(),h("div",{key:$,class:"log-item"},[t("span",lt,v(U.time),1),t("span",{class:C(["log-type",`log-type-${U.type}`])},v(U.type),3),t("span",st,v(U.message),1)]))),128)),n.value.length?P("",!0):(f(),h("div",it,"No log records"))]),t("div",nt,[l(_,{size:"small",onClick:a},{default:i(()=>r[1]||(r[1]=[s("Clear Log")])),_:1,__:[1]})])])])}}},pt=b(rt,[["__scopeId","data-v-e8602b66"]]),ct={class:"upload-demo"},ut={class:"slot-item"},mt={class:"custom-trigger"},ft={class:"slot-item"},ht={class:"custom-drag-area"},gt={class:"slot-item"},bt={class:"custom-file-item"},_t={class:"file-name"},yt={__name:"slots",setup(g){const n=x([{uid:"1",name:"document1.docx",status:"success",size:1024},{uid:"2",name:"document2.xlsx",status:"uploading",size:2048},{uid:"3",name:"document3.pdf",status:"fail",error:new Error("Upload failed"),size:3072}]),e=d=>{const o=d.name.toLowerCase();return o.endsWith(".pdf")?"pdf":o.endsWith(".docx")||o.endsWith(".doc")?"word":o.endsWith(".xlsx")||o.endsWith(".xls")?"excel":o.endsWith(".pptx")||o.endsWith(".ppt")?"ppt":o.endsWith(".jpg")||o.endsWith(".png")||o.endsWith(".gif")?"image":"file"},a=d=>{switch(d){case"success":return"success";case"uploading":return"info";case"fail":return"danger";default:return"default"}};return(d,o)=>{const c=p("t-icon"),m=p("t-upload"),y=p("t-button"),u=p("t-tag");return f(),h("div",ct,[t("div",ut,[o[1]||(o[1]=t("h4",null,"Default Slot (Trigger Button)",-1)),l(m,{action:"http://rap2api.taobao.org/app/mock/322878/upload"},{default:i(()=>[t("div",mt,[l(c,{icon:"upload-to",size:"24"}),o[0]||(o[0]=t("span",null,"Click to Upload File",-1))])]),_:1})]),t("div",ft,[o[3]||(o[3]=t("h4",null,"Drag Area Slot (drag)",-1)),l(m,{action:"http://rap2api.taobao.org/app/mock/322878/upload",drag:""},{drag:i(()=>[t("div",ht,[l(c,{icon:"cloud-upload",size:"32"}),o[2]||(o[2]=t("div",{class:"drag-text"},"Drag files or click this area",-1))])]),_:1})]),t("div",gt,[o[5]||(o[5]=t("h4",null,"File List Item Slot (file-item)",-1)),l(m,{action:"http://rap2api.taobao.org/app/mock/322878/upload","file-list":n.value},{"file-item":i(({file:r})=>[t("div",bt,[l(c,{icon:e(r),size:"16"},null,8,["icon"]),t("span",_t,v(r.name),1),l(u,{size:"small",type:a(r.status)},{default:i(()=>[s(v(r.status),1)]),_:2},1032,["type"])])]),default:i(()=>[l(y,{type:"primary"},{default:i(()=>o[4]||(o[4]=[s("Upload File")])),_:1,__:[4]})]),_:1},8,["file-list"])])])}}},vt=b(yt,[["__scopeId","data-v-7e7d34af"]]),kt=JSON.parse('{"title":"Upload Component","description":"","frontmatter":{},"headers":[],"relativePath":"en/components/upload.md","filePath":"en/components/upload.md"}'),xt={name:"en/components/upload.md"},Ft=z({...xt,setup(g){return(n,e)=>{const a=p("demo");return f(),h("div",null,[e[0]||(e[0]=F('<h1 id="upload-component" tabindex="-1">Upload Component <a class="header-anchor" href="#upload-component" aria-label="Permalink to &quot;Upload Component&quot;">​</a></h1><p><img src="'+q+'" alt="Upload Component"></p><p>Upload component allows users to upload files by clicking or dragging. It supports multiple display modes, automatic/manual upload, and rich customization features.</p><h2 id="basic-usage" tabindex="-1">Basic Usage <a class="header-anchor" href="#basic-usage" aria-label="Permalink to &quot;Basic Usage&quot;">​</a></h2><p>Upload files by clicking the upload button, use the <code>action</code> attribute to set the upload address.</p>',5)),l(a,{component:D,name:"upload",examples:"basic"}),e[1]||(e[1]=t("h2",{id:"list-type",tabindex:"-1"},[s("List Type "),t("a",{class:"header-anchor",href:"#list-type","aria-label":'Permalink to "List Type"'},"​")],-1)),e[2]||(e[2]=t("p",null,[s("Upload component supports two file list display modes: text list and picture list. Use the "),t("code",null,"list-type"),s(" attribute to configure.")],-1)),l(a,{component:M,name:"upload",examples:"list-type"}),e[3]||(e[3]=t("h2",{id:"drag-upload",tabindex:"-1"},[s("Drag Upload "),t("a",{class:"header-anchor",href:"#drag-upload","aria-label":'Permalink to "Drag Upload"'},"​")],-1)),e[4]||(e[4]=t("p",null,[s("Setting the "),t("code",null,"drag"),s(" attribute enables drag upload mode, allowing users to drag files to a specific area for upload.")],-1)),l(a,{component:N,name:"upload",examples:"drag"}),e[5]||(e[5]=t("h2",{id:"manual-upload",tabindex:"-1"},[s("Manual Upload "),t("a",{class:"header-anchor",href:"#manual-upload","aria-label":'Permalink to "Manual Upload"'},"​")],-1)),e[6]||(e[6]=t("p",null,[s("Setting "),t("code",null,"auto-upload"),s(" to "),t("code",null,"false"),s(" disables automatic upload, requiring the "),t("code",null,"submit"),s(" method to be called to manually start upload.")],-1)),l(a,{component:H,name:"upload",examples:"manual"}),e[7]||(e[7]=t("h2",{id:"upload-restrictions",tabindex:"-1"},[s("Upload Restrictions "),t("a",{class:"header-anchor",href:"#upload-restrictions","aria-label":'Permalink to "Upload Restrictions"'},"​")],-1)),e[8]||(e[8]=t("p",null,[s("You can use "),t("code",null,"accept"),s(", "),t("code",null,"max-size"),s(", and "),t("code",null,"limit"),s(" attributes to restrict file type, size, and quantity respectively.")],-1)),l(a,{component:X,name:"upload",examples:"limit"}),e[9]||(e[9]=t("h2",{id:"custom-upload",tabindex:"-1"},[s("Custom Upload "),t("a",{class:"header-anchor",href:"#custom-upload","aria-label":'Permalink to "Custom Upload"'},"​")],-1)),e[10]||(e[10]=t("p",null,[s("Through the "),t("code",null,"http-request"),s(" attribute, you can customize upload behavior for more flexible upload implementation.")],-1)),l(a,{component:et,name:"upload",examples:"custom"}),e[11]||(e[11]=t("h2",{id:"event-handling",tabindex:"-1"},[s("Event Handling "),t("a",{class:"header-anchor",href:"#event-handling","aria-label":'Permalink to "Event Handling"'},"​")],-1)),e[12]||(e[12]=t("p",null,"Upload component provides rich events for handling various state changes during the upload process.",-1)),l(a,{component:pt,name:"upload",examples:"events"}),e[13]||(e[13]=t("h2",{id:"slot-usage",tabindex:"-1"},[s("Slot Usage "),t("a",{class:"header-anchor",href:"#slot-usage","aria-label":'Permalink to "Slot Usage"'},"​")],-1)),e[14]||(e[14]=t("p",null,"Through multiple slots, you can customize different parts of the upload component, including trigger buttons, file lists, etc.",-1)),l(a,{component:vt,name:"upload",examples:"slots"}),e[15]||(e[15]=F('<h2 id="upload-component-api" tabindex="-1">Upload Component API <a class="header-anchor" href="#upload-component-api" aria-label="Permalink to &quot;Upload Component API&quot;">​</a></h2><h3 id="attributes" tabindex="-1">Attributes <a class="header-anchor" href="#attributes" aria-label="Permalink to &quot;Attributes&quot;">​</a></h3><table><thead><tr><th>Attribute</th><th>Description</th><th>Type</th><th>Accepted Values</th><th>Default</th></tr></thead><tbody><tr><td><code>action</code></td><td>Upload URL</td><td><code>string</code></td><td>—</td><td>—</td></tr><tr><td><code>headers</code></td><td>Set upload request headers</td><td><code>object</code></td><td>—</td><td>—</td></tr><tr><td><code>multiple</code></td><td>Whether to support multiple file selection</td><td><code>boolean</code></td><td>—</td><td><code>false</code></td></tr><tr><td><code>data</code></td><td>Additional parameters for upload</td><td><code>object</code></td><td>—</td><td>—</td></tr><tr><td><code>name</code></td><td>Upload file field name</td><td><code>string</code></td><td>—</td><td><code>file</code></td></tr><tr><td><code>with-credentials</code></td><td>Support sending cookie credentials</td><td><code>boolean</code></td><td>—</td><td><code>false</code></td></tr><tr><td><code>accept</code></td><td>Accepted upload file types</td><td><code>string</code></td><td>—</td><td>—</td></tr><tr><td><code>max-size</code></td><td>File size limit in MB</td><td><code>number</code></td><td>—</td><td>—</td></tr><tr><td><code>file-list</code></td><td>Uploaded file list</td><td><code>UploadFile[]</code></td><td>—</td><td><code>[]</code></td></tr><tr><td><code>auto-upload</code></td><td>Whether to upload immediately after file selection</td><td><code>boolean</code></td><td>—</td><td><code>true</code></td></tr><tr><td><code>list-type</code></td><td>File list type</td><td><code>string</code></td><td><code>text</code> / <code>picture</code></td><td><code>text</code></td></tr><tr><td><code>drag</code></td><td>Whether to enable drag upload</td><td><code>boolean</code></td><td>—</td><td><code>false</code></td></tr><tr><td><code>disabled</code></td><td>Whether disabled</td><td><code>boolean</code></td><td>—</td><td><code>false</code></td></tr><tr><td><code>show-file-list</code></td><td>Whether to show uploaded file list</td><td><code>boolean</code></td><td>—</td><td><code>true</code></td></tr><tr><td><code>limit</code></td><td>Maximum number of uploads allowed</td><td><code>number</code></td><td>—</td><td>—</td></tr><tr><td><code>before-upload</code></td><td>Hook before uploading file</td><td><code>(file: File) =&gt; boolean | Promise&lt;any&gt;</code></td><td>—</td><td>—</td></tr><tr><td><code>before-remove</code></td><td>Hook before removing file</td><td><code>(file: UploadFile, fileList: UploadFile[]) =&gt; boolean</code></td><td>—</td><td>—</td></tr><tr><td><code>http-request</code></td><td>Override default upload behavior</td><td><code>(options: UploadRequestOptions) =&gt; Promise&lt;any&gt;</code></td><td>—</td><td>—</td></tr></tbody></table><h3 id="uploadfile-type" tabindex="-1">UploadFile Type <a class="header-anchor" href="#uploadfile-type" aria-label="Permalink to &quot;UploadFile Type&quot;">​</a></h3><table><thead><tr><th>Attribute</th><th>Description</th><th>Type</th><th>Accepted Values</th></tr></thead><tbody><tr><td><code>uid</code></td><td>File unique identifier</td><td><code>number | string</code></td><td>—</td></tr><tr><td><code>name</code></td><td>File name</td><td><code>string</code></td><td>—</td></tr><tr><td><code>size</code></td><td>File size</td><td><code>number</code></td><td>—</td></tr><tr><td><code>type</code></td><td>File type</td><td><code>string</code></td><td>—</td></tr><tr><td><code>status</code></td><td>File status</td><td><code>string</code></td><td><code>ready</code> / <code>uploading</code> / <code>success</code> / <code>fail</code></td></tr><tr><td><code>percentage</code></td><td>Upload progress</td><td><code>number</code></td><td><code>0-100</code></td></tr><tr><td><code>url</code></td><td>File URL address</td><td><code>string</code></td><td>—</td></tr><tr><td><code>response</code></td><td>Upload response data</td><td><code>any</code></td><td>—</td></tr><tr><td><code>error</code></td><td>Upload error info</td><td><code>Error</code></td><td>—</td></tr><tr><td><code>raw</code></td><td>Raw file object</td><td><code>File</code></td><td>—</td></tr></tbody></table><h3 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to &quot;Events&quot;">​</a></h3><table><thead><tr><th>Event Name</th><th>Description</th><th>Parameters</th></tr></thead><tbody><tr><td><code>success</code></td><td>Triggered when file upload succeeds</td><td><code>(file: UploadFile, response: any)</code></td></tr><tr><td><code>error</code></td><td>Triggered when file upload fails</td><td><code>(file: UploadFile, error: Error)</code></td></tr><tr><td><code>progress</code></td><td>Triggered when file upload progress changes</td><td><code>(file: UploadFile, percent: number)</code></td></tr><tr><td><code>change</code></td><td>Triggered when file status changes</td><td><code>(file: UploadFile | null, fileList: UploadFile[])</code></td></tr><tr><td><code>exceed</code></td><td>Triggered when file count exceeds limit</td><td><code>(files: File[], fileList: UploadFile[])</code></td></tr><tr><td><code>remove</code></td><td>Triggered when file is removed</td><td><code>(file: UploadFile, fileList: UploadFile[])</code></td></tr><tr><td><code>preview</code></td><td>Triggered when clicking uploaded file link</td><td><code>(file: UploadFile)</code></td></tr></tbody></table><h3 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to &quot;Methods&quot;">​</a></h3><table><thead><tr><th>Method Name</th><th>Description</th><th>Parameters</th></tr></thead><tbody><tr><td><code>clearFiles</code></td><td>Clear file list</td><td>—</td></tr><tr><td><code>abort</code></td><td>Cancel upload</td><td><code>(file?: UploadFile)</code> Optional, specify file. Cancels all uploads if not provided</td></tr><tr><td><code>submit</code></td><td>Manually upload file</td><td>—</td></tr></tbody></table><h3 id="slots" tabindex="-1">Slots <a class="header-anchor" href="#slots" aria-label="Permalink to &quot;Slots&quot;">​</a></h3><table><thead><tr><th>Slot Name</th><th>Description</th><th>Scope Parameters</th></tr></thead><tbody><tr><td><code>default</code></td><td>Upload trigger area</td><td>—</td></tr><tr><td><code>tip</code></td><td>Tip description text</td><td>—</td></tr><tr><td><code>file</code></td><td>File list item</td><td><code>{ file: UploadFile }</code></td></tr></tbody></table><h3 id="style-variables" tabindex="-1">Style Variables <a class="header-anchor" href="#style-variables" aria-label="Permalink to &quot;Style Variables&quot;">​</a></h3><p>Upload component uses the following style variables, which can be customized through SCSS variables:</p><table><thead><tr><th>Variable Name</th><th>Description</th></tr></thead><tbody><tr><td><code>$theme-color-primary</code></td><td>Theme color</td></tr><tr><td><code>$text-color-default</code></td><td>Text color</td></tr><tr><td><code>$border-color-default</code></td><td>Border color</td></tr><tr><td><code>$bg-color-default</code></td><td>Background color</td></tr><tr><td><code>$font-size-default</code></td><td>Default font size</td></tr></tbody></table>',14))])}}});export{kt as __pageData,Ft as default};
